import template from './libs/template.min';
import JSEncrypt from './libs/jsencrypt.min';
import gbkTool from './libs/gb18030.min';
import CryptoJS from './libs/crypto-js.min';
import NODERSA from './libs/node-rsa.min';
import pako from './libs/pako.min';
import JSON5 from './libs/json5.min';
import JSONPath from './libs/jsonpathplus.min';
import jinja from './libs/jinja.min';
import WebAssembly from './libs/polywasm.min';
import WXXH from './libs/xxhash-wasm.min';

const TextEncoder = globalThis.TextEncoder;
const TextDecoder = globalThis.TextDecoder;

/*
patch打补丁开始
1. cheerio对象 只保留在用的jinja2和jp函数，其他pdf系列交给壳子
2. JSEncrypt换库但是保留encryptUnicodeLong和decryptUnicodeLong函数
*/
const cheerio = {
  jinja2(template, obj) {
    return jinja.render(template, obj);
  },
  jp(path, json) {
    return JSONPath.JSONPath({ path, json })[0];
  },
};
JSEncrypt.encryptUnicodeLong = JSEncrypt.encryptLong;
JSEncrypt.decryptUnicodeLong = JSEncrypt.decryptLong;
/*
patch打补丁结束
*/

export {
  cheerio,
  template as 模板,
  gbkTool,
  CryptoJS,
  JSEncrypt,
  NODERSA,
  pako,
  JSON5,
  JSONPath,
  jinja,
  WebAssembly,
  TextEncoder,
  TextDecoder,
  WXXH,
};
