# Change Log

## 3.4.0

- 特性: 支持oplayer+样式按播放器导入(样式调整)+修复xgplayer倍速显示undefeated+artplayer方法playNext封装错误+svg图标微调+修复formatUrlHeaders数据类型错误导致播放地址拼接失败
- 特性: 导入数据支持历记忆
- 特性: 右键支持复制粘贴等+频道中忽略触发
- 特性: 数据源支持T3Py+写源工具支持T3Py(需要电脑安装py3.8+和对应依赖)
- 优化: 基础设置页面打开慢(win和mac intel系列感受明显)
- 优化: 数据源检测逻辑(分类+列表)+批量检测
- 优化: drpy重复初始化+缓存从3个改到6个+重构worker逻辑
- 优化: 统一Dialog挂载节点+统一表单处理方法+优化参数校验
- 优化: 重构解析页, 直接展示站点, 播放跳转播放器(腾讯不支持搜索, 未知原因)
- 优化: 所有数据均可记录至时刻(此前只支持影视)
- 优化: 插件功能项重写依赖安装逻辑(集成7.24.2)+布局调整
- 优化: ai接口重构(支持常规和sse)+记忆上下文+sse响应+停止则取消请求(停止提示)+响应打字机效果+响应中禁止操作+仅最后响应可重生成
- 优化: 去广逻辑采用龙头大佬20250416版本
- 优化: 重构ipc(替代@electron/remote)+renderer进程禁用node环境开启上下文隔离
- 优化: 主进程部分模块解耦(参数归一)+启动流程优化+快捷键模块重构+增加hiker路径模块
- 优化: 基础设置逻辑优化+提取快捷键组件
- 修复: 数据编码样式错乱+不依赖node:Buffer模块+rc4参数控制错误+sm4解密错误
- 修复: 写源工具面板分隔不跟手(使用splitpanes替代arco)+控制台重构(@xterm/xterm替代luna-console)+日志输出
- 修复: 静态筛选批量结果不显示
- 修复: 普通输入框重复粘贴+monaco-editor编辑器无法粘贴
- 修复: monaco-editor组件按钮错位+主题不跟随
- 修复: windows和linux在写源工具和静态筛选页面样式错乱问题
- 修复: 影视详情主演｜演员等参数匹配为空问题
- 修复: 写源工具代理数据上传三元组校验+过滤条件不生效
- 修复: 清理缩略图后不会重新计算空间
- 修复: 网盘(alist)提示配置路径错误
- 修复: 解析为json时类型headers逻辑错误-应获取解析数据头而不是请求解析头
- 修复: 主进程解析畸形url地址异常
- 变动: 调整用户代理默认值
- 变动: 补全缺失多语言词条
- 变动: 数据库字段(注意备份)
- 变动: 依赖库升级

## 3.3.10

- 特性: 调试模式启动数据库端口(5432), 前端console打印
- 特性: 插件中心(实验性)
- 特性: 文件对比diff
- 优化: 播放影视时顶部显示当前播放的剧集
- 优化: fastify路由
- 优化: 去广逻辑
- 优化: lrucache加载同源数据变动加载机制(仅支持数据规则在源中) [issue #382]
- 优化: 多播放器-完善类型判断(先走HEAD, 重试走GET)｜xgplayer,artplayer支持i18n和下集调用 | 移除dplayer,nplayer(核心与artplayer一致, 仅ui区别)
- 优化: 续下集+跳时间 对其腾讯视频
- 优化: markdown 渲染
- 优化: 写源工具(重构)
- 优化: 公共组件侧边栏默认滚动到当前激活
- 优化: AI组件重写
- 优化: 收藏(时刻)倒序, 新增date字段
- 优化: 源管理搜索过滤like(大小写敏感)改为ilike(大小写模糊)
- 优化: 公共组件title-menu过滤空数据
- 优化: ipc和hiker(file+request)方法完善
- 修复: 参数拼写错误 [issue #378]
- 修复: 时刻调用第三方播放器提示数据报错 [issue #363]
- 修复: 收藏load数据长度报错导致无法翻页 [issue #376]
- 修复: 去广和请求头同时存在导致数据冲突 & 优化去广前置判断 & 播放请求头去除不安全部分(浏览器报错)
- 修复: 影视搜索中数据源只有一组时数据不翻页
- 修复: 数据源 drpyjs0,t0xml,t1json,t4hipy vod_content格式化错误 | drpyjs0,t4hipy 返回play参数不规范 [issue #387] | t0xml 返回参数不规范 | drpyjs0,t0xml,t1json,t4hipy,catvod categories参数为空时报错 | wd参数重复编码问题 | drpyjs0,t4hipy 缺失pg参数| t0xml,t1json 兼容性 [issue #388]
- 修复: 弹幕参数下标存在为0加载失败问题
- 修复: 开启预加载+点击非下集选集播放链接不正确
- 修复: 开启预加载+弹幕下集加载弹幕不显示
- 修复: 预加载不生效
- 修复: 影视+时刻二级返回值没有vod_id导致历史存的数据不准确(用一级vod_id赋值)
- 修复: 电视开启缩略图时生成失败+生成后刷新生效问题
- 变动: 弹幕增加返回标识字段
- 变动: 部分数据库字段长度变更
- 变动: drpy2库更新至`3.9.51beta6 20241126`
- 变动: 数据库字段(注意备份)
- 变动: 依赖库升级

## 3.3.9

- 特性: 数据追加能力(注意数据清洗能力永远不会上线)
- 特性: 仅搜索源不在数据源中显示(增加开关)[issue #283]
- 特性: 支持播放器请求头(实验性)
- 特性: 播放页自动续集(增加开关)
- 修复: 数据源T0xml无法加载 | catbox筛选不生效 | xbpq xyq网络源无法加载 | appysv2判断逻辑 | T0xml T1json搜索逻辑
- 修复: 历史播放记录无法读取(未开启跳进度的时候存在该问题)
- 修复: 播放页解析记录为空时组件bug导致点击无效(tdesgin组件bug暂时规避,等腾讯修复)
- 修复: 软件运行时再次打开奔溃[issue #354]
- 修复: 数据非标准JSON格式无法导入(改为JSON5兼容)[issue #350]
- 修复: win在线更新无限提醒 issue(下载完成后不安装一直点下载时存在该问题)[issue #349]
- 修复: 数据源搜索时数据不显示(数据达不到当前搜索页时存在)[issue #347]
- 修复: 频道名称显示不完整(名称含空格时存在该问题)[issue #342]
- 修复: 网盘不显示全部文件(增加开关)
- 修复: 写源工具导入部分情况失败
- 修复: drpy库部分逻辑错误(atob问题｜withHeaders问题)
- 修复: 全局用户代理不生效
- 优化: 多播放器融合统一能力
- 优化: 系统托盘支持快捷打开软件数据目录
- 优化: 去广逻辑升级{感谢 @hpindigo}
- 优化: 子进程中网络请求能力(mac下快一倍)
- 优化: 嗅探播放页增加视频类型Auto选项系统自己判断
- 优化: 数据源配置滚动标题栏固定
- 优化: 数据加解密支持更多参数并支持3DES、Rabbit、RabbitLegacy、SM4 | 哈希计算支持Hmac
- 变动: debug数据源可删除(部分用户强迫症)
- 变动: 回归数据源检测, 仅支持单次检测(批量会窜数据)
- 变动: 数据库字段(注意备份)
- 变动: 依赖升级

## 3.3.8

> 破坏性更新

- 特性: 支持csp_XBPQ|csp_XYQ|csp_AppYSv2源格式(实验性)
- 特性: 注册URL Scheme, 支持通过zy://协议唤醒应用
- 特性: 支持常见加解密|hash计算|数据编码
- 特性: 支持folderInfolder模式
- 特性: 抽离加解密方法, 封装部分海阔方法(开发者福音)
- 优化: 多语言适配已知未适配内容+已知样式溢出内容修改+支持tdesgin内置组件
- 优化: 侧边栏采用虚拟列表渲染(数据太多导致太多dom元素卡顿)
- 优化: 嗅探逻辑支持sniffer_exclude参数，对齐道长嗅探器传参格式
- 优化: 电视导入时过滤不支持协议(ftp|rtsp|rsp)
- 优化: 重新导入历史和收藏均显示找不到数据源(回归key设计-注意之前历史会失效)
- 优化: 解析类型为web时调用嗅探器嗅探后使用播放器(iframe显示可能有广)
- 优化: 全局超时时间调整为最小3s最大60s, 超过范围自动设置为3s
- 优化: 数据源选择csp_XBPQ|csp_XYQ|csp_AppYSv2可自动填充api
- 优化: 老板键在原有隐藏窗口基础上增加窗口静音和暂停[issue #323]
- 优化: 网络请求优化, 部分逻辑迁移到后端(如无法篡改请求头内容, 此前方式为先自定义再底层恢复)
- 优化: 数据源实现逻辑解耦合, 每个实现逻辑都为一个适配器模式(开发者福音)
- 优化: 修改打包hook机制, 跳过签名校验, 仅保留 zh & en 字体(win+linux 生效)
- 优化: 统一主进程和渲染进程通讯规范, 采用小驼峰命名(开发者福音)
- 优化: ui统一更多设计样式, 部分ux操作加入过渡动画
- 优化: 简化前端权限逻辑实现(逻辑过于复杂)
- 优化: 封装前端组件减，少冗余代码(monaco编辑器|数据源配置|md渲染)
- 优化: 新版TdesginUI组件库empty组件替代原有提取自ElementUI手搓组件
- 优化: 使用vue3.5版本, 使用部分新特性替代老代码(如useTemplateRef)
- 优化: 拦截多个开发者工具无限debugger脚本(devtools-detector|disable-devtool)
- 优化: 重构播播放器逻辑
- 优化: 播放器共享并记忆音量|倍速|静音(注意:dplayer设置静音项图标不对应)
- 优化: 数据源初始化Adapter适配器时使用LRU缓存(10个)
- 修复: 新版titlebar组件不兼容问题(win、linux均有该问题)
- 修复: mac系统触发每次打开应用都弹窗网络请求权限校验(打开防火墙情况)
- 修复: win11系统存在安装应用后无法打开(nsis安装脚写注册表逻辑问题)
- 修复: 数据源列表通过搜索加载的数据选中删除无效
- 修复: 数据源编辑内容无需点击确认就可修改原始数据
- 修复: 播放器中epg列表不加载数据源中的专属epg
- 修复: 网盘错误逻辑导致切换数据源会导致数据源消失[issue #314]
- 修复: 网盘匹配不到password导致服务终止
- 修复: 播放器播放影视视频, 点击推荐数据无法触发事件
- 修复: 数据导入时涉及基础配置时以及webdev远端同步本地数据不刷新
- 修复: 新版本electron前端获取不到文件路径, 替换为electron-dialog方案
- 修复: 智脑无法打开openai链接
- 修复: 切换分类｜切换数据源, 顶部搜索关键词不恢复默认问题
- 修复: 基础数据设置数据不成功问题(已初始化数据为基准)
- 修复: 侧边栏收起对不齐顶部问题(强迫着患者福音)
- 修复: 用户数据导入不规范导致窗口无法打开[issue #312]
- 修复: 切换频道节目单不更新[issue #346]
- 修复: md文档内容无法渲染有序和无序dom
- 修复: 嗅探器服务脱离窗口池问题(窗口服务统一管理)
- 修复: 开启webdev自动同步会无限创建webdev对象导致内存未释放
- 修复: 影视和站点顶部菜单已经激活的菜单再次点击无法触发 数据加载
- 变动: 字体采用小米字体(MiSans)
- 变动: 拆封写源工具部分功能并独立于设置页面
- 变动: 剔除-iframe嗅探方案(限制较多, 和pie方案功能相差较多)
- 变动: 剔除-收藏页检查更新功能(效果与实际设想相差较大);
- 变动: 剔除-数据源类型appv1和appv2(实验性csp_AppYSv2替代)
- 变动: 剔除-设置页hipy的推广内容
- 变动: 剔除-数据源有限性检测(现有逻辑较为鸡肋, 同时导致用户不断询问)
- 变动: 剔除-硬件加速开关(数据库变更后硬件加速禁用失败)
- 变动: 剔除-随心看功能(鸡肋功能)
- 变动: 剔除-v8引擎缓存机制(没有带来性能提升)
- 变动: 修改-数据管理-快捷配置剔除此软件导入方式, 合并tvbox和hipy导入格式
- 变动: 修改-影视第一个分类数据改为加载首页数据(homeVod)
- 变动: 修改-电视相关参数epg应携带{name}和{date}|logo应携带{name}(优先级:自带->源自带->全局)
- 变动: 修改-电视过滤ipv6频道改为仅标识ipv6(跳过检测会增加加载时间, 不友好)
- 变动: 修改-数据库从lowdb变更为PGLite(数据强校验, 字段不规范直接报错)
- 变动: 修改-升级所有依赖, 前端部分依赖不再依赖nodejs(不再兼容老系统, 稳定性有提升)
- 变动: 修改-drpy核心对齐道长仓库最新版本2024.10(取消摇树, 最新侵入库本身)
- 变动: 修改-debug涉及PageSpy服务域名变更
- 变动: 数据库字段(注意备份)

## 3.3.7

> 最后一个版本支持win7

- 特性: 全新卡片式ui(侧边导航可折叠)
- 特性: DNS-over-HTTP回归(重构逻辑)
- 特性: 调试模式
- 特性: 影视搜索支持过滤
- 特性: 写原工具之筛选插件
- 特性: 热搜增加移动爱家和豆瓣接口[issue #221]
- 特性: 播放页小窗设计[issue #218]
- 特性: 侧边导航可搜索源[issue #241]
- 特性: 写原工具支持拖拽文件展示数据
- 特性: 播放器支持 mpd 和 dash
- 优化: 线路选择样式变动[issue #240]
- 优化: 调整底层版本支持硬解hevc[issue #261]
- 优化: 播放器倍速逻辑重构[issue #278 #279]
- 优化: loading 层重构，减少内存消耗
- 优化: 多窗口数据交互接口重构
- 优化: 嗅探支持更多格式
- 优化: 多窗口逻辑重构
- 修复: 配置源需要刷新问题 (重构bus总线)
- 修复: 搜索输入框双击触发最大化问题1
- 修复: 部分情况下搜索页无法进入详细页[issue #228]
- 修复: 部分提示词变动及多语言适配[issue #288]
- 变动: openai默认模型调整, 支持输入模型
- 变动: 写源工具文档地址调整为github-wiki
- 变动: 播放器背景图
- 变动: 数据库字段(注意备份)

## 3.3.6

- 修复: 播放页倒序后逻辑混乱
- 修复: 解析切换type前播放器未摧毁

## 3.3.5

- 特性: 解析支持json格式(type:1)
- 特性: 播放器支持去插播、预嗅探加载下一集[issue #205]
- 特性: 播放页支持选择解析线路
- 特性: 支持全局超时时间(不要设置太短影响本地服务器数据读取)
- 优化: 播放器重构, 全播放器支持弹幕(破坏性的)
- 优化: 写源工具支持嗅探、源代码格式化、源代码编码、编辑器智能提醒、ai、服务生成式[discussions #180]
- 优化: 嗅探器支持初始化参数
- 优化: 写源工具导致整个设置页面白屏时间长
- 优化: 推荐数据逻辑重构(破坏性的)
- 修复: 数据源可以添加空白数据
- 修复: 嗅探器定时器失效导致内存溢出
- 修复: 分类有重复id导致vue内存溢出
- 修复: 选集倒序序号不变化
- 变动: 免责申明协议更新
- 变动: drpy库同步保持最新
- 变动: 数据库字段(注意备份)
- 变动: 依赖库升级

## 3.3.4

- 特性: 支持国际化(中文｜英语)
- 特性: webdev支持自动同步数据(5分钟一次)[issue #158]
- 特性: 写源工具
- 特性: 支持第三方嗅探[issue #164]
- 特性: 上线随心看
- 特性: 支持弹幕(仅西瓜播放器)
- 优化: t3模块支持本地代理(暂未测试)｜同步保持更新(当前为3.9.50beta2 202400427){感谢 @hjdhnx}
- 优化: 数据导入支持相对路径
- 优化: 播放页逻辑解耦部分、样式优化、支持同步主题变化
- 修复: Linux不显示桌面图标[issue #179]
- 修复: 修改老板键写入脏数据
- 修复: 时刻取消后重新收藏出现该源被删除[issue #173 #162]
- 修复: 当触发不同站点详情页数据不变化[issue 146]
- 修复: 搜索通过点击触发显示事件e
- 修复: 搜索触发多次多余详情爬虫
- 修复: 搜索当源不是t3时搜索失败
- 修复: 外部播放器传递特殊字符数据丢失一部分[issue #171]
- 修复: 播放页、详情页触发多个高亮选中集数(重构逻辑和历史数据冲突，表现为有历史数据时不自动播放，需手动点击或者清空历史)
- 修复: 播放页为直播时无法使用全局台标
- 修复: 采用新架构后版本升级数据字段变动无法随版本迁移
- 修复: 生产模式下不生成日志文件
- 修复: windows快捷键无法打开开发者模式
- 变动: 数据库字段(注意备份)
- 变动: 依赖库升级


## 3.3.3

- 特性: 兼容t3影视源(不支持本地代理){感谢 @hjdhnx}
- 特性: 兼容catvod影视源(不支持本地代理){感谢 @catvod}
- 优化: 调用系统播放器不再使用环境变量[issue #152]
- 优化: 影视、电视、过刻页面采用响应式方案
- 修复: 修复mac系统托盘不适应背景色问题[issue #143]
- 修复: 修复影视搜索时过刻数据错乱问题[issue #157]
- 修复: 修复西瓜播放器快捷键问题[issue #150]
- 修复: 修复免责申明无法打开问题(含申明内容更新)
- 修复: 修复解析历史抽屉点击删除触发播放和页面自动关闭问题
- 修复: 修复缩略图文件夹未生成问题
- 修复: 修复重启软件老板键失效问题[issue #153]
- 修复: 修复搜索交互问题[issue #153]
- 变动: 端口变更8345->9978 (同tvbox本地端口)
- 变动: 数据库字段(注意备份)
- 变动: 依赖库升级

## 3.3.2

- 特性: 新增系统托盘
- 特性: 兼容hipy影视源
- 优化: 重构大部分页面，框架升级至electron-vite(流畅性玄学优化)
- 优化: 数据不在存储在前端采用lowdb，并开一个后端fastify服务(端口 8345)
- 优化: 全新logo，优化win尺寸偏小问题{感谢 @fourbeauty}
- 优化: 直播延迟检测机制
- 优化: 播放器为系统时，支持先嗅探在调用系统播放器
- 优化: 影视源有效检测机制、收藏更新检测机制、影视聚合搜索增加队列并发
- 优化: 空间优化 (mac减少100+mb | win 减少20+mb | linux 减少30+mb)
- 修复: 修复影视和直播页面内存溢出问题
- 修复: 修复影视菜单映射关系不存在导致切换分类失败问题
- 修复: 修复播放器为系统时，影视详情播放列表不对应问题
- 修复: 修复解析历史抽屉遮挡无法点击系统操作栏问题(除苹果操作系统外)
- 修复: 修复解析历史抽屉点击删除触发播放和页面自动关闭问题
- 修复: 修复解析搜索时关闭按钮遮挡无法点击系统操作栏问题(除苹果操作系统外)
- 修复: 修复影视聚合搜索重复源搜索问题
- 变动: 删除腾讯播放器(特性开始恶心新增账号验证才能使用)，增加系统调用vlc(需保证环境变量)
- 变动: 彩蛋开放，不再需要触发
- 变动: 数据库字段(注意备份)
- 变动: 依赖库升级

## 3.3.1

- 特性: 主窗口退出保存位置[issue #113]
- 特性: 设置增加全局配置 iptv 台标配置
- 优化: 各项目可直接跳转到配置源
- 优化: 修改默认加载图
- 修复: windows 状态栏错乱(特地在 win 平台测试了)[issue #118 #116]
- 修复: 设置表格中存在大量逻辑问题
- 修复: 调用播放窗口标题 undefined
- 修复: 开发模式下 ffmpeg 调用失败
- 修复: 影视源连续添加不同配置提示已存在
- 修复: 搜索栏高度问题导致出现滚动条
- 变动: 免责申明协议调整至基础设置
- 变动: 数据库字段(注意备份)

## 3.3.0

- 优化: 加载页动画效果
- 修复: pie嗅探报错(electron版本导致)
- 修复: 无法从解析历史播放
- 修复: 影视搜索一个报错后面无法执行[issue #108]
- 修复: 设置中嗅探方案不显示选择项
- 修复: 分享组件特殊情况下无法生成二维码
- 变动: 修改系统默认菜单栏
- 变动: 数据库字段(注意备份)
- 变动: 依赖库升级

## 3.2.10

- 特性: 支持alist网盘功能(实验性){感谢开源项目@CatVodOpen}
- 特性: 支持pie嗅探{感谢 开源项目@CatVodOpen}
- 优化: 重构底部加载细节(自认为有优化)
- 优化: iptv缩略图创建文件夹时机优化
- 优化: 数据导入导出做了更多的逻辑校验(防止手贱玩家)
- 修复: 修复一键配置单词拼写错误导致的问题7.变动：修改系统默认菜单栏(mac 生效)
- 变动: 数据库字段(注意备份)

## 3.2.9

- 修复: 一键配置回归
- 修复: 已知 bugs
- 变动: 数据库字段(注意备份)

## 3.2.8

- 特性: 新增dp播放器替代阿里、火山播放器(支持调用mac本地 iina, win本地potplayer)
- 特性: 数据管理模块重构[支持备份到 webdev]
- 修复: 直播缩略图实验性功能导致打开报错[issue #73 #69]
- 修复: 播放器分享功能地址失效[pr #72]
- 变动: 增加drpy推荐位
- 变动: 数据库字段(注意备份)

## 3.2.7

- 特性: 全新ui/ux
- 特性: 直播缩略图(实验性, 需安装ffmpeg)
- 特性: 增加loading层窗口优化打开软件白屏久
- 修复: 基础设置判断ipv6获取地址不是公网ip的问题
- 修复: 通过设置源切换默认加载出错以及分类不对的问题
- 修复: 直播无法切换非远程链接的问题
- 修复: mac双击标题栏不放大和缩小窗口的问题
- 修复: api兼容性问题
- 变动: 直播有效性改成延迟时间

## 3.2.6

- 特性: 兼容 app-v1 源[issue #58]
- 特性: 设置源添加资源数[issue #50]
- 特性: 热榜支持ky.live和高合数据(酷云好像挂了)
- 修复: 图标 win 过小，liux 老图标的问题[issue #59]
- 修复: 推荐数据请求错误的问题，优化兼容性
- 修复: 选中筛选条件切换分类不变的问题(重构所有源类型的数据结构)
- 变动: 设置源分类代替全局过滤
- 变动: 依赖库升级

## 3.2.5

- 特性: 兼容 app-v3 源
- 修复: 直播列表勾选跳过ipv6内存泄露的问题
- 修复: 热榜为站内且为drpy源时数据报错的问题
- 修复: 热榜数据没有随站点源变化的问题
- 修复: 播放器剧集倒序乱序的问题
- 修复: 非链接源播放器无法加载的问题
- 修复: 源解析和'哎呦疼'冲突的问题
- 变动: 依赖库升级

## 3.2.4

- 特性: 历史和收藏支持显示播放源[issue #41]
- 特性: 播放支持选集倒序
- 优化: 搜索交互优化
- 优化: 设置源表格重构（支持跨多页选择数据和搜索）[issue #23]
- 优化: 直播判断逻辑{感谢 @jahem}
- 修复: 兼容drpy搜索参数问题（兼容 drpy 的 c#版本）
- 变动: 下架社区功能[issue #40]
- 变动: 依赖库升级

## 3.2.3

- 特性: 适配多款播放器
- 优化: 解析增加分享（提取播放器公共组件，并重写样式
- 优化: 彩蛋增强（webview 替代 iframe，支持前进后退
- 修复: 搜索和推荐接口多次请求的问题（可能嘎嘎快）
- 修复: 兼容部分源无效参数导致请求失败的问题（1080zyku）
- 修复: 导出源不显示保存路径的问题（electron+fs 替代 saveas 库）
- 修复: 播放器全屏时顶部无法点击的问题（drag 冲突）
- 修复: tdesgin1.3.5输入装饰器slot不生效的问题（被迫修改逻辑）
- 修复: 酷云热搜请求 3 次实际只请求 2 次的问题
- 变动: 站点源检测有效性添加请求超时时间为 3 秒

## 3.2.2

- 特性: 兼容dr_py的免嗅模式{感谢 @hjdhnx}
- 特性: 兼容两套播放器（新增tcplayer）
- 优化: 热搜兼容夸克、百度 接口
- 优化: iptv 状态检测优化（引入队列和取消请求）
- 修复: 嗅探链接大小写问题导致无法播放的问题
- 修复: iptv不开启跳过 ipv6无限请求的问题
- 修复: iptv解析 dns 失败数据不继续加载的问题
- 变动: 删除软解(字节确认 v3 版本 xgplayer 不支持)
- 变动: 部分 svg 图标更换
- 变动: 数据库字段(注意备份)

## 3.2.1

- 特性: 兼容dr_py的filters|search{感谢 @hjdhnx}
- 特性: 兼容xml格式源
- 优化: 兼容json5(一键配置里用注释的 xx 行为)
- 修复: iptv 切换源不刷新分类的问题
- 修复: 搜索组件无限请求数据的问题
- 修复: 错别字(Issues #20 )
- 修复: 部分奇葩源无分类的问题（海X看）
- 修复: film切换源,搜索依旧使用默认源的问题
- 变动: 修改免责声明及部分提示文案
- 变动: 播放器逻辑
- 变动: 接口请求失败重试次数调整为3
- 变动: 数据库字段(注意备份)
- 变动: 依赖库升级

## 3.2.0

- 特性: 兼容dr_py的type:1的数据{感谢 @hjdhnx}
- 修复: 触发老板键错误的问题(同时修改不同系统默认快捷键)
- 修复: 社区刷新冲突的问题
- 修复: 一直播放下集的问题
- 修复: 三大金刚双击标题栏导致 icon 不同步的问题
- 修复: main 程序关闭时点击回到主页无法打开的问题
- 变动: 依赖库升级

## 3.1.10

- 特性: 增加社区
- 特性: 直播源支持本地 m3u
- 优化: ui调整
- 优化: 影视热榜、搜索框重构
- 优化: 彩蛋增强(自己探索代码中的 todo，不要传播)
- 修复: 恢复出厂数据不彻底导致冲突的问题(同时软重启改为硬重启)
- 修复: 影视搜索后导致无法下拉的问题
- 修复: 播放下集冲突的问题，重构播放进度记录(播放器事件替代定时器)
- 修复: 添加站点源分类空白的问题
- 修复: main 程序关闭时点击回到主页无法打开的问题
- 变动: 视频流特征采集改为 5s 同步一次数据
- 变动: 依赖库升级

## 3.1.9

- 特性: 支持查看播放器信息
- 优化: 不同操作系统兼容性
- 修复: 自动切换下集与画中画冲突
- 修复: 过滤为空导致加载分类错误{感谢 @jim114042}
- 变动: 删除最小化自动暂停/恢复播放
- 变动: 西瓜播放器beta到release

## 3.1.8

- 特性: 自动播放下集
- 特性: 部分页面增加返回顶部(T-Desgin 1.3.0 support)
- 优化: 彩蛋(希望发现的童鞋不要传播打开方法)
- 修复: 影视逻辑错误{感谢 @jim114042}
- 修复: 播放器加载解析错误导致无法播放问题
- 修复: 部分视频无法加载问题(xgplayer 3.0.0-next.55-2 fix)
- 变动: 免责声明协议(语句不通顺、错别字)

## 3.1.7

- 特性: 基础配置增加安全User-Agent设置
- 优化: 彩蛋(希望发现的童鞋不要传播打开方法)
- 优化: ipv6检测(支持域名dns解析)
- 优化: 播放页重构部分函数(播放加载明显加快)、兼容另类的cms源(剧集不带名称)、iptv数据多卡顿、切换剧集重复查询豆瓣
- 优化: 绘制部分svg替代png图标
- 修复: 切换基础配置闪屏问题
- 修复: 基础配置导致影视直接加载完成问题
- 修复: 打开app首屏加载慢问题

## 3.1.6

- 特性: 播放页兼容调用解析(不记录历史进度)
- 特性: 我的收藏增加更新检测
- 特性: 基础配置增加安全DNS设置(重启软件生效)
- 优化: 彩蛋(希望发现的童鞋不要传播打开方法)
- 优化: 播放器iptv直播逻辑判断(代码重构)
- 优化: 借助chatgpt优化有必要de代码
- 修复: 历史记录列表统计错误(代码重构)
- 修复: 去除原有load函数等待(代码重构)
- 修复: 播放器进度条错误、播放历史日期不更新问题
- 修复: 部分已知css问题(variables导入错误)
- 修复: 解析历史切换不加载url、日期不更新、sohu获取标题乱码问题
- 修复: 三大金刚浅色模式下播放页看不清问题(win、Linux)
- 修复: 主题外观是自动时系统外观变化不同步问题(主要针对mac)
- 修复: iptv开启v6检测空数据报错、ipv6检测不严谨问题
- 修复: 源设置排序与分页冲突问题
- 变动: 代理使用系统配置
- 变动: 依赖库升级

## 3.1.5

- 特性: 基础配置增加ipv6检测的支持
- 特性: 播放页增加影视离线缓存链接复制的支持
- 特性: 播放页增加iptv频道的支持
- 优化: 交互(配置变动页面该刷新就刷新、css样式)
- 修复: 基础配置检查更新逻辑错误
- 修复: 系统媒体正在播放显示名称错误
- 变动: 依赖库升级

## 3.1.4

- 特性: 基础配置增加硬件加速开关(Linux兼容性)
- 特性: 基础配置增加在线更新(仅win支持; mac|linux不支持)
- 优化: 适配直播源解析不同规则兼容性
- 优化: 分享成功提示
- 优化: 影视和直播选择分类样式
- 修复: 最小化不暂停播放的问题
- 修复: win开启开机自启无法取消
- 变动: 基础配置重置拆分还原出厂(重置数据、清理缓存)+清理缓存
- 变动: 依赖库升级

## 3.1.3

- 特性: 基础配置增加一键配置、开机自启功能
- 特性: 源配置页面增加配置提示
- 特性: 解析页面增加历史功能
- 优化: 基础配置设计重构
- 优化: 老板键逻辑-增加校验
- 优化: 源配置页面样式主题色同步全局
- 优化: iptv页面设计同步站点源页面
- 优化: 站点源页面筛选功能重新设计(减少条条框框)
- 修复: 站点源切换源分类不更新导致的错误
- 修复: 源配置当前页面全选会删除全部数据的错误
- 修复: 源配置通过网络源增加失败的错误
- 变动: 依赖库升级

## 3.1.2

- 修复: 表格排序问题

## 3.1.1


- 优化: 设置显示默认源样式
- 优化: iptv部分样式
- 修复: 切换选集m3u8地址不变、切换选集进度条不回滚
- 修复: 播放历史时始终为第一个url
- 修复: 播放非m3u8时拼接m3u链接错误
- 修复: 设置中源index错误导致的编辑和默认错乱
- 修复: onMounted没加载完就触发load

## 3.1.0

- 特性: 新增全局刷新
- 特性: 新增播放器播放历史播放进度及跳过开头
- 优化: 交互逻辑
- 优化: 兼容vite4，播放器使用西瓜视频组件v3beta
- 优化: 使用electron ts和import导入
- 修复: 修复老板键不生效问题
- 变动: 修改主题色对应于logo的配色
- 变动: 修改解析支持平台(减少风险，彩蛋在TODO)
- 变动: 去除waterwall第三方组件导致的切换页面变成一列

## 3.0.0

- 特性:上线用户协议与免责声明
- 特性:影视支持多源搜索
- 特性:支持直接切换源，不用进设置配置
- 特性:新增老板键
- 优化:适配windwos无标题框模式
- 修复: 修复缺少单个iptv的epg

